---
title: "JamfのSetup Managerを使ってMacのセットアップ状況を可視化する"
emoji: "🍎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Jamf","Mac","MDM"]
published: true
publication_name: "gmomedia"
---

![](/images/3d5ab754a6b7c2/2.png)

# はじめに
GMOメディア IT戦略チームの石井です。
GMOメディアのサービス開発部でアドベントカレンダーをはじめました！
https://qiita.com/advent-calendar/2024/gmo-media
本記事はGMOメディア 2024アドベントカレンダー3日目の記事です。
ぜひご覧くださいね！

# 概要
情シスの皆さんはMacを管理するMDMツールとして、Jamf Proを活用されている人も多いのではないかと思います。
Macのセットアップ（キッティング）で活用できる自動デバイス登録ツールであるSetup Managerが最近リリースされました。
とても便利でしたのでご紹介します。

# 対象読者
- Jamf Proを管理している方
- 構成プロファイル、ポリシーを理解している
- Prestage Enrollment (事前登録)を利用している組織

# Setup Managerとは
Setup ManagerはJamfが提供する自動デバイス登録ツールです。
https://www.jamf.com/blog/apple-device-enrollment-jamf-setup-manager/
構成プロファイルから細かく設定できる点や、Prestage Enrollmentと連携できる点が特徴です。
また、ユーザ作成画面の手前（設定アシスタント中）にSetup Managerが立ち上がるため、各種アプリケーションのインストールを確実に行うことができます。


# GMOメディアでの従来のセットアップ方法
GMOメディアでも今年からPrestage Enrollmentを活用し、Macのセットアップを効率化しておりました。
具体的には初期インストールさせたいアプリケーションごとにポリシーを作成し、
`登録完了`チェックを入れてセットアップ完了後（デスクトップ画面描画後）に各アプリをインストールするように仕掛けておりました。
![](/images/3d5ab754a6b7c2/1.png)

このインストール方法ではいくつか問題点がありました。
- DEP Notifyなどのツールを使用していなかったため、進捗状況が見えない（ユーザ体験が悪い）
- インストール中にシャットダウンや再起動が発生するとインストールが中止されてしまう

## 従来のセットアップ方法の流れ
1. 初回電源投入
1. 設定アシスタントが開始（言語設定など）
1. Prestage Enrollmentが開始
1. ユーザ作成、Touch ID設定画面などを設定
1. デスクトップ画面描画後、アプリケーションのインストールが開始
1. 利用可能となる

## Setup Managerの導入後のセットアップ方法の流れ
1. 初回電源投入
1. 設定アシスタントが開始（言語設定など）
1. Prestage Enrollmentが開始
1. Setup Managerが開始
1. ユーザ作成、Touch ID設定画面などを設定
1. デスクトップ画面描画（利用可能となる）

# Setup Managerの導入
ここではあえて詳しい方法は記載しませんが、TooさんやMagicHatさんで詳しい記事があるので、ぜひそちらを参照してください。
https://www.too.com/apple/apple_tips/jamfsetup_manager.html
https://blog.magichat.jp/n/n408354d8b763?gs=d6eac1144625

## 動作イメージ
![](/images/3d5ab754a6b7c2/2.png)

弊社ではSetup Managerを導入することで、以下の問題を解決・改善することができました。
- インストール中の進捗状況が見える（ユーザ体験の向上）
- Prestage Enrollmentと連携してアプリケーションのインストールを確実に行うことができる
- Setup Managerでのセットアップ中、ユーザは何も操作できない状態であるため、セットアップが中断されることはない（強制シャットダウンさえしなければ…）
- スクリプトを書かかずに構成プロファイルの設定だけで設定することができる
- Jamf純正のツールであるため、Jamfとの親和性が高く安心できる。サポートも受けやすい。

## Setup Managerの設定
Setup Managerの設定はJamf Proの構成プロファイルから行います。
いくつかの設定項目がありますが、弊社での設定内容を一部ご紹介します。

## タイムゾーンの設定
現在、弊社パートナーは日本での勤務者のみであるため、タイムゾーンは最初から日本に設定しています。
これによりSetup Manager完了後のタイムゾーン設定を省略することができます。
![](/images/3d5ab754a6b7c2/3.png)


## コンピュータ名の設定
弊社では英語4文字＋数字4の形式でコンピュータ名を管理しています。
しかし、これをユーザに入力させようとしてもなかなかルール通りに設定してもらえなかったり、誤入力が発生してしまうことがありました。
Setup Managerを導入することで、コンピュータ名を正規表現で制限させることができ、誤入力を極力防ぐことができました。
![](/images/3d5ab754a6b7c2/5.png)
![](/images/3d5ab754a6b7c2/4.png)

# まとめ
いかがでしたでしょうか？
Setup Managerを導入することで、Macのセットアップをより効率的に行うことができるようになりました。
Jamf Proを利用している方は、ぜひ導入を検討してみてください。
